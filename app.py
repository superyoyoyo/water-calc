import streamlit as st

# 1. é é¢åŸºæœ¬è¨­å®š
st.set_page_config(page_title="æ°´è™•ç†è¨ˆç®—æ©Ÿ", page_icon="ğŸ’§")
st.title("ğŸ’§æ°´è™•ç†å·¥ç¨‹è¨ˆç®—")

# 2. å»ºç«‹å´é‚Šæ¬„æˆ–ä¸»ç•«é¢çš„é¸å–®
# é€™è£¡æˆ‘å€‘åšä¸€å€‹ä¸‹æ‹‰é¸å–®ï¼Œè®“ä½¿ç”¨è€…é¸æ“‡è¦ç®—ä»€éº¼
calculation_type = st.selectbox(
    "è«‹é¸æ“‡è¨ˆç®—é …ç›®ï¼š",
    ["è»ŸåŒ–ç³»çµ± (Softener)", "æ»¿åºŠç³»çµ± (2BT)", "æ··åºŠç³»çµ± (MB)"]
)

st.markdown("---") # ç•«ä¸€æ¢åˆ†éš”ç·š

# ==========================================
# æ¨¡å¼ A: è»ŸåŒ–ç³»çµ± (é€™æ˜¯åŸæœ¬çš„åŠŸèƒ½)
# ==========================================
if calculation_type == "è»ŸåŒ–ç³»çµ± (Softener)":
    st.header("ğŸ§‚ è»ŸåŒ–ç³»çµ±è¨ˆç®—")
    
    # [è¼¸å…¥å€]
    col1, col2 = st.columns(2)
    with col1:
        x = st.number_input("æ¨¹è„‚äº¤æ›å®¹é‡ (g/L)", value=40.0)
    with col2:
        y = st.number_input("æ¨¹è„‚ç¸½é‡ (L)", value=150.0)
    z = st.number_input("åŸæ°´ç¸½ç¡¬åº¦ (ppm CaCO3)", value=100.0)

    # [è¨ˆç®—èˆ‡çµæœ]
    if st.button("è¨ˆç®—è»ŸåŒ–ç”¢èƒ½"):
        if z <= 0:
            st.error("ç¡¬åº¦å¿…é ˆå¤§æ–¼ 0")
        else:
            ans = (x * y) / z
            safe_ans = ans * 0.7
            st.success(f"å»ºè­°æ¡æ°´é‡ï¼š**{safe_ans:.2f}** å™¸")

# ==========================================
# æ¨¡å¼ B: æ»¿åºŠç³»çµ± (é€™æ˜¯æ–°å¢çš„ç¤ºç¯„)
# ==========================================
elif calculation_type == "æ»¿åºŠç³»çµ± (2BT)":
    st.header("ğŸ“¦ æ»¿åºŠæ¨¹è„‚é‡è¨ˆç®—")
    
    # 1. è¨­å®šè¼¸å…¥æ¡† (Input)
    radius = st.number_input("æ¡¶æ§½åŠå¾‘ (cm)", value=50.0)
    height = st.number_input("æ¨¹è„‚å±¤é«˜åº¦ (cm)", value=120.0)
    size = st.number_input("FRP SIZE", value=1354)
    # 2. è¨­å®šæŒ‰éˆ•èˆ‡å…¬å¼ (Logic)
    if st.button("è¨ˆç®—é«”ç©"):
        # åœ“æŸ±é«”ç©å…¬å¼ V = Ï€ * rÂ² * h
        import math
        volume_cm3 = math.pi * (radius ** 2) * height
        volume_liter = volume_cm3 / 1000  # æ›ç®—æˆå…¬å‡
        
        # 3. é¡¯ç¤ºçµæœ (Output)
        st.write(f"æ¡¶æ§½æˆªé¢ç©ï¼š{math.pi * (radius**2):.2f} cmÂ²")
        st.success(f"æ‰€éœ€æ¨¹è„‚é‡ï¼š**{volume_liter:.2f}** å…¬å‡")
# ==========================================
# æ¨¡å¼ C: é™°é›¢å­ç³»çµ± (é ç•™çµ¦æ‚¨å¡«å¯«)
# ==========================================
elif calculation_type == "é™°é›¢å­ç³»çµ± (Anion)":
    st.header("ğŸ§ª é™°é›¢å­äº¤æ›è¨ˆç®—")
    st.write("ğŸš§ åŠŸèƒ½é–‹ç™¼ä¸­ï¼Œè«‹ä¾ç…§ä¸Šæ–¹æ ¼å¼è‡ªè¡Œè¤‡è£½ä¿®æ”¹ç¨‹å¼ç¢¼...")

# ==========================================
# æ¨¡å¼ D: æ··åºŠ (é ç•™çµ¦æ‚¨å¡«å¯«)
# ==========================================
elif calculation_type == "æ··åºŠç³»çµ± (MB)":
    st.header("ğŸ”„ æ··åºŠç³»çµ±è¨ˆç®—")
    st.write("ğŸš§ åŠŸèƒ½é–‹ç™¼ä¸­...")







